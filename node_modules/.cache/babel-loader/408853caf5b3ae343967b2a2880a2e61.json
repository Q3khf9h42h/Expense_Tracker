{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useEffect, useState, useRef } from 'react';\nimport { projectFirestore } from '../firebase/config';\nconst useCollection = (collection, _query) => {\n  _s();\n  const [documents, setDocument] = useState();\n  const [error, setError] = useState();\n  const query = useRef(_query).current;\n  useEffect(() => {\n    let ref = projectFirestore.collection(collection);\n    if (query) {\n      ref = ref.where(...query);\n    }\n    const unsub = ref.onSnapshot(snapshot => {\n      let results = [];\n      snapshot.docs.forEach(doc => {\n        results.push({\n          ...doc.data(),\n          id: doc.id\n        });\n      });\n      setDocument(results);\n      setError(null);\n    }, err => {\n      console.log(err);\n      setError('could not fetch the data');\n    });\n    return () => unsub();\n  }, [collection, query]);\n  return {\n    error,\n    documents\n  };\n};\n_s(useCollection, \"eIvUuRsohtN/1pAY+JsWd+DNFFA=\");\nexport default useCollection;","map":{"version":3,"names":["React","useEffect","useState","useRef","projectFirestore","useCollection","collection","_query","_s","documents","setDocument","error","setError","query","current","ref","where","unsub","onSnapshot","snapshot","results","docs","forEach","doc","push","data","id","err","console","log"],"sources":["C:/Users/harsh/Downloads/Expense-Tracker-with-Authentication-main/Expense-Tracker-with-Authentication-main/src/hooks/useCollection.js"],"sourcesContent":["import React, { useEffect, useState, useRef } from 'react'\r\nimport { projectFirestore } from '../firebase/config';\r\n\r\nconst useCollection = (collection,_query) => {\r\n    const [documents,setDocument] =useState();\r\n    const [error,setError]=useState();\r\n    const query = useRef(_query).current;\r\n    useEffect(()=>{\r\n        let ref = projectFirestore.collection(collection)\r\n\r\n        if(query){\r\n            ref = ref.where(...query)\r\n        }\r\n\r\n        const unsub = ref.onSnapshot((snapshot)=>{\r\n            let results=[]\r\n            snapshot.docs.forEach(doc=>{\r\n                results.push({...doc.data(),id:doc.id})\r\n            })\r\n            setDocument(results)\r\n            setError(null)\r\n        },(err)=>{\r\n            console.log(err)\r\n            setError('could not fetch the data')\r\n        })\r\n        return ()=>unsub()\r\n    },[collection,query])\r\n    return {error,documents}\r\n}\r\n\r\nexport default useCollection"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAC1D,SAASC,gBAAgB,QAAQ,oBAAoB;AAErD,MAAMC,aAAa,GAAGA,CAACC,UAAU,EAACC,MAAM,KAAK;EAAAC,EAAA;EACzC,MAAM,CAACC,SAAS,EAACC,WAAW,CAAC,GAAER,QAAQ,CAAC,CAAC;EACzC,MAAM,CAACS,KAAK,EAACC,QAAQ,CAAC,GAACV,QAAQ,CAAC,CAAC;EACjC,MAAMW,KAAK,GAAGV,MAAM,CAACI,MAAM,CAAC,CAACO,OAAO;EACpCb,SAAS,CAAC,MAAI;IACV,IAAIc,GAAG,GAAGX,gBAAgB,CAACE,UAAU,CAACA,UAAU,CAAC;IAEjD,IAAGO,KAAK,EAAC;MACLE,GAAG,GAAGA,GAAG,CAACC,KAAK,CAAC,GAAGH,KAAK,CAAC;IAC7B;IAEA,MAAMI,KAAK,GAAGF,GAAG,CAACG,UAAU,CAAEC,QAAQ,IAAG;MACrC,IAAIC,OAAO,GAAC,EAAE;MACdD,QAAQ,CAACE,IAAI,CAACC,OAAO,CAACC,GAAG,IAAE;QACvBH,OAAO,CAACI,IAAI,CAAC;UAAC,GAAGD,GAAG,CAACE,IAAI,CAAC,CAAC;UAACC,EAAE,EAACH,GAAG,CAACG;QAAE,CAAC,CAAC;MAC3C,CAAC,CAAC;MACFhB,WAAW,CAACU,OAAO,CAAC;MACpBR,QAAQ,CAAC,IAAI,CAAC;IAClB,CAAC,EAAEe,GAAG,IAAG;MACLC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;MAChBf,QAAQ,CAAC,0BAA0B,CAAC;IACxC,CAAC,CAAC;IACF,OAAO,MAAIK,KAAK,CAAC,CAAC;EACtB,CAAC,EAAC,CAACX,UAAU,EAACO,KAAK,CAAC,CAAC;EACrB,OAAO;IAACF,KAAK;IAACF;EAAS,CAAC;AAC5B,CAAC;AAAAD,EAAA,CAzBKH,aAAa;AA2BnB,eAAeA,aAAa"},"metadata":{},"sourceType":"module"}